<link rel="stylesheet" href="https://unpkg.com/swiper@9/swiper-bundle.min.css">
<script defer src="https://unpkg.com/swiper@9/swiper-bundle.min.js"></script>

<section class="hb-slider-wrap">
  <div class="swiper hb-swiper">
    <div class="swiper-wrapper"></div>
    <div class="swiper-button-prev"></div>
    <div class="swiper-button-next"></div>
    <div class="swiper-pagination"></div>
  </div>
</section>

<style>
  :root {
    --slider-nav-color: #e5e7eb;
    --slider-bg-color: #000;
    --overlay-color: rgba(0, 0, 0, 0.4); 
  }
  .hb-slider-wrap {
    width: 100vw;
    margin-left: calc(50% - 50vw);
    background: var(--slider-bg-color);
  }
  .hb-swiper {
    width: 100%;
    height: clamp(200px, 32vh, 42vh);
    background: var(--slider-bg-color);
  }
  .hb-swiper .swiper-slide {
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative; 
    overflow: hidden; /* 자식 요소가 부모를 벗어나지 않도록 */
  }

  .hb-swiper .swiper-slide img {
    display: block;
    width: 100%; /* 너비를 100%로 변경 */
    height: 100%; /* 높이를 100%로 변경 */
    object-fit: cover; /* 이미지가 잘리더라도 꽉 차게 */
    position: absolute;
    top: 0;
    left: 0;
    z-index: 1; /* 1. 가장 아래에 깔릴 이미지 */
  }

  .hb-swiper .swiper-slide::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: var(--overlay-color);
    z-index: 2; /* 2. 이미지 위에 올라올 투명 오버레이 */
  }

  .hb-overlay-text {
    position: relative; /* position을 relative로 변경 */
    z-index: 3; /* 3. 오버레이 위에 올라올 텍스트 */
    color: #fff;
    font-size: 1.8rem;
    font-weight: bold;
    text-align: center;
    padding: 0 20px;
    line-height: 1.3;
    text-shadow: 1px 1px 3px rgba(0,0,0,0.6);
  }
  /* --- ▲ 여기까지 수정 --- */
  
  .hb-caption {
    position: absolute;
    z-index: 3;
    bottom: 0.75rem;
    left: 0.75rem;
    padding: 0.375rem 0.625rem;
    color: #fff;
    background: rgba(0, 0, 0, 0.45);
    border-radius: 6px;
    font-size: 0.95rem;
  }
  
  .swiper-button-prev,
  .swiper-button-next {
    color: var(--slider-nav-color);
    z-index: 4; /* 항상 맨 위에 오도록 */
  }
  .swiper-pagination-bullet {
    background: var(--slider-nav-color);
    opacity: 0.6;
  }
  .swiper-pagination-bullet-active {
    opacity: 1;
  }

  @media (max-width: 768px){
    .hb-swiper { height: 32vh; min-height: 200px; }
    .hb-overlay-text { font-size: 1.2rem; }
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const slidesData = [
      { img: '/media/image1.jpg', alt: '학습', caption: '학습', overlayText: '끊임없이 배우고 성장하는 개발자' },
      { img: '/media/image2.jpg', alt: '경력', caption: '경력', overlayText: '다양한 경험을 통해 넓은 시야를 가진 개발자' },
      { img: '/media/image3.jpg', alt: '프로젝트', caption: '프로젝트', overlayText: '실제 문제를 해결하는 실용적인 개발자' },
    ];

    const swiperWrapper = document.querySelector('.hb-swiper .swiper-wrapper');
    
    slidesData.forEach(slide => {
      swiperWrapper.innerHTML += `
        <div class="swiper-slide">
          <img src="${slide.img}" alt="${slide.alt}">
          <div class="hb-caption">${slide.caption}</div>
        </div>
      `;
    });
    
    new Swiper('.hb-swiper', {
      loop: true,
      speed: 600,
      centeredSlides: true,
      autoplay: {
        delay: 2800,
        disableOnInteraction: false,
      },
      pagination: {
        el: '.swiper-pagination',
        clickable: true,
      },
      navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev',
      },
    });
  });
</script>