<link rel="stylesheet" href="https://unpkg.com/swiper@9/swiper-bundle.min.css">
<script defer src="https://unpkg.com/swiper@9/swiper-bundle.min.js"></script>

<section class="hb-slider-wrap">
  <div class="swiper hb-swiper">
    <div class="swiper-wrapper"></div>
    <div class="swiper-button-prev"></div>
    <div class="swiper-button-next"></div>
    <div class="swiper-pagination"></div>
  </div>
</section>

<style>
  :root {
    --slider-nav-color: #e5e7eb;
    --slider-bg-color: #000;
    --overlay-color: rgba(0, 0, 0, 0.4);
  }
  .hb-slider-wrap {
    width: 100vw;
    margin-left: calc(50% - 50vw);
    background: var(--slider-bg-color);
  }
  .hb-swiper {
    width: 100%;
    height: 100vh; /* 높이를 약간 늘려 비율 확보 */
    background: var(--slider-bg-color);
  }

  /* --- ▼ 여기가 수정된 핵심 부분 --- */
  .hb-swiper .swiper-slide {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    background-position: center;
    background-size: cover;
    background-repeat: no-repeat;
  }
  /* --- ▲ 여기까지 수정 --- */
  
  .hb-swiper .swiper-slide::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: var(--overlay-color);
  }

  .hb-overlay-text {
    position: relative; /* ::before 위에 텍스트가 오도록 */
    z-index: 1;
    color: #fff;
    font-size: 2.5rem;
    font-weight: bold;
    text-align: center;
    padding: 0 20px;
    line-height: 1.3;
    text-shadow: 1px 1px 4px rgba(0,0,0,0.7);
  }
  
  .hb-caption {
    /* position: absolute;
    z-index: 1;
    bottom: 0.75rem;
    left: 0.75rem;
    padding: 0.375rem 0.625rem;
    color: #fff;
    background: rgba(0, 0, 0, 0.45);
    border-radius: 6px;
    font-size: 0.95rem; */
    display: none;
  }
  
  .swiper-button-prev,
  .swiper-button-next {
    color: var(--slider-nav-color);
  }
  .swiper-pagination-bullet {
    background: var(--slider-nav-color);
    opacity: 0.6;
  }
  .swiper-pagination-bullet-active {
    opacity: 1;
  }

  @media (max-width: 768px){
    .hb-overlay-text { font-size: 1.2rem; }
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const slidesData = [
      { img: '/media/image1.jpg', alt: '학습', overlayText: '성장하는 개발자<br>정진영입니다' },
      { img: '/media/image2.jpg', alt: '경력', overlayText: '저의 포트폴리오 사이트에<br>오신 것을 환영합니다' },
      { img: '/media/image3.jpg', alt: '프로젝트', overlayText: '저의 성장 여정을 살펴보세요' }
    ];

    const swiperWrapper = document.querySelector('.hb-swiper .swiper-wrapper');
    
    slidesData.forEach(slide => {
      // div 요소를 만들고 배경 이미지를 설정
      const slideElement = document.createElement('div');
      slideElement.className = 'swiper-slide';
      slideElement.style.backgroundImage = `url(${slide.img})`;
      
      // 텍스트와 캡션을 자식 요소로 추가
      slideElement.innerHTML = `
        <div class="hb-overlay-text">${slide.overlayText}</div>
      `;
      
      // 완성된 슬라이드를 wrapper에 추가
      swiperWrapper.appendChild(slideElement);
    });
    
    new Swiper('.hb-swiper', {
      loop: true,
      speed: 600,
      centeredSlides: true,
      autoplay: {
        delay: 2800,
        disableOnInteraction: false,
      },
      pagination: {
        el: '.swiper-pagination',
        clickable: true,
      },
      navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev',
      },
    });
  });
</script>